

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>twofactor module &mdash; GreenAddress API  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GreenAddress API  documentation" href="index.html"/>
        <link rel="up" title="WebSocket WAMP API calls" href="apicalls.html"/>
        <link rel="next" title="txs module" href="txs.html"/>
        <link rel="prev" title="pin module" href="pin.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GreenAddress API
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples.html">Usage examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="apicalls.html">WebSocket WAMP API calls</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="addressbook.html">addressbook module</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html">login module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pin.html">pin module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">twofactor module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#action-types">Action types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#passing-otps">Passing OTPs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#proxies">Proxies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-twofactor">API Calls</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="txs.html">txs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="vault.html">vault module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">WebSocket WAMP notifications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GreenAddress API</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="apicalls.html">WebSocket WAMP API calls</a> &raquo;</li>
        
      <li>twofactor module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="twofactor-module">
<h1>twofactor module<a class="headerlink" href="#twofactor-module" title="Permalink to this headline">¶</a></h1>
<p>Two Factor Authentication (2FA) is an important piece of your GreenAddress
wallet security.</p>
<p>When 2FA is enabled for a users wallet, operations that change security
settings or move coins require 2FA authorization. This is done by requesting
a One Time Password (OTP) for the required action from the service. After the
service delivers the OTP to the user, the user passes it to to the API which
allows the action to proceed.</p>
<p>One Time Passwords are valid only for a specific action and for a limited
time.</p>
<div class="section" id="methods">
<span id="fa-methods"></span><h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>The following two factor methods are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="35%" />
<col width="38%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">method</th>
<th class="head" colspan="2">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>email</td>
<td colspan="2"><div class="first last line-block">
<div class="line">Sends the action details and OTP via email</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>gauth</td>
<td colspan="2"><div class="first last line-block">
<div class="line">Uses Google Authenticator to calculate OTPs</div>
</div>
</td>
</tr>
<tr class="row-even"><td>phone</td>
<td colspan="2"><div class="first last line-block">
<div class="line">Reads a short summary and the OTP via phone call</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>proxy</td>
<td colspan="2"><div class="first last line-block">
<div class="line">See <a class="reference internal" href="#fa-proxies"><span class="std std-ref">Proxies</span></a></div>
</div>
</td>
</tr>
<tr class="row-even"><td>sms</td>
<td colspan="2"><div class="first last line-block">
<div class="line">Sends a short summary and the OTP via SMS</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Note that SMS and phone authentication have recently been shown to be insecure
and should not be used if possible. Users should always enable more than
one two factor method and ensure they back up any two factor data in order
to maintain full access to their wallet.</p>
</div>
<div class="section" id="action-types">
<span id="fa-action-types"></span><h2>Action types<a class="headerlink" href="#action-types" title="Permalink to this headline">¶</a></h2>
<p>When calling the API calls <code class="docutils literal"><span class="pre">request_&lt;method&gt;</span></code> to request an OTP, you must
pass an <code class="docutils literal"><span class="pre">action</span></code> string and associated <code class="docutils literal"><span class="pre">data</span></code>. The table below describes the
available actions along with the corresponding expected data format.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="32%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">action</th>
<th class="head">data</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>activate_email</td>
<td><div class="first last line-block">
<div class="line">{}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">No data</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>change_tx_limits</td>
<td><div class="first last line-block">
<div class="line">{</div>
<div class="line-block">
<div class="line">&#8216;is_fiat&#8217;: &lt;bool&gt;,</div>
<div class="line">&#8216;total&#8217;:   &lt;int&gt;,</div>
<div class="line">&#8216;per_tx&#8217;:  &lt;bool&gt;,</div>
</div>
<div class="line">}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td>enable_2fa</td>
<td><div class="first last line-block">
<div class="line">{</div>
<div class="line-block">
<div class="line">&#8216;method&#8217;: &lt;string&gt;</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="line">}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><br /></div>
<div class="line">2fa method to enable, one of:</div>
<div class="line">&#8216;email&#8217;</div>
<div class="line">&#8216;sms&#8217;</div>
<div class="line">&#8216;phone&#8217;</div>
<div class="line">&#8216;gauth&#8217;</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td>cancel_reset</td>
<td><div class="first last line-block">
<div class="line">{}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">No data</div>
</div>
</td>
</tr>
<tr class="row-even"><td>remove_account</td>
<td><div class="first last line-block">
<div class="line">{}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">No data</div>
</div>
</td>
</tr>
<tr class="row-odd"><td>send_tx</td>
<td><div class="first last line-block">
<div class="line"><br /></div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td>set_nlocktime</td>
<td><div class="first last line-block">
<div class="line">{</div>
<div class="line-block">
<div class="line">&#8216;value&#8217;: &lt;int&gt;,</div>
</div>
<div class="line">}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><br /></div>
<div class="line">nlocktime value</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td>sign_alt_tx</td>
<td><div class="first last line-block">
<div class="line">{</div>
<div class="line-block">
<div class="line">&#8216;sha256d&#8217;: &lt;hex&gt;,</div>
<div class="line">&#8216;txtype&#8217;:  &lt;string&gt;</div>
<div class="line"><br /></div>
</div>
<div class="line">}</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line"><br /></div>
<div class="line">Double SHA256 of tx to sign</div>
<div class="line">Tx type to sign, one of:</div>
<div class="line">&#8216;bcash&#8217;, &#8216;forkid&#8217;</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="passing-otps">
<span id="fa-passing-otps"></span><h2>Passing OTPs<a class="headerlink" href="#passing-otps" title="Permalink to this headline">¶</a></h2>
<p>For calls that require a <code class="docutils literal"><span class="pre">2fa_data</span></code> parameter, this takes the following format:</p>
<p><code class="docutils literal"><span class="pre">{'method':</span> <span class="pre">String,</span> <span class="pre">'code':</span> <span class="pre">String</span> <span class="pre">}</span></code></p>
<p>Where <code class="docutils literal"><span class="pre">method</span></code> is a supported 2FA method (See <a class="reference internal" href="#fa-methods"><span class="std std-ref">Methods</span></a>) and <code class="docutils literal"><span class="pre">code</span></code>
is the OTP received using that method for the action to perform.</p>
<p>In cases where the user has no 2FA enabled, this parameter can be passed as null
or an empty map.</p>
</div>
<div class="section" id="proxies">
<span id="fa-proxies"></span><h2>Proxies<a class="headerlink" href="#proxies" title="Permalink to this headline">¶</a></h2>
<p>In GreenAddress 2FA proxies allow setting up 2FA using an existing 2FA method.
The call <code class="docutils literal"><span class="pre">request_proxy</span></code> fetches an OTP for a new 2FA method given a valid
OTP from an exiting method. This can be used to improve the user experience
and reduce mistakes when interactively setting up two factor.</p>
<p>For example, assume a user that has email 2FA already enabled, and wishes to
enable SMS. Using a proxy the application would do the following:</p>
<p>Request an OTP to enable the new SMS method from GreenAddress:</p>
<p><code class="docutils literal"><span class="pre">twofactor.request_email('enable_2fa',</span> <span class="pre">{'method':</span> <span class="pre">'sms'})</span></code></p>
<p>Prompt the user to check their email and enter the OTP <code class="docutils literal"><span class="pre">EMAIL_OTP</span></code> received.</p>
<p>Request a proxy OTP <code class="docutils literal"><span class="pre">PROXY_OTP</span></code> for SMS using <code class="docutils literal"><span class="pre">EMAIL_OTP</span></code> from GreenAddress,
then request enabling SMS 2FA using <code class="docutils literal"><span class="pre">PROXY_OTP</span></code>:</p>
<p><code class="docutils literal"><span class="pre">twofactor.request_proxy('sms',</span> <span class="pre">{'method':</span> <span class="pre">'email',</span> <span class="pre">'code':</span> <span class="pre">'EMAIL_OTP'})</span></code></p>
<p><code class="docutils literal"><span class="pre">twofactor.init_enable_sms('&lt;phone</span> <span class="pre">number&gt;',</span> <span class="pre">{'method':</span> <span class="pre">'proxy',</span> <span class="pre">'code':</span> <span class="pre">'PROXY_OTP'})</span></code></p>
<p>Prompt the user to check their SMS and enter the OTP <code class="docutils literal"><span class="pre">SMS_OTP</span></code> received.</p>
<p>Enable SMS 2FA using <code class="docutils literal"><span class="pre">enable_sms</span></code>:</p>
<p><code class="docutils literal"><span class="pre">twofactor.enable_sms('SMS_OTP')</span></code></p>
<p>Using a proxy in this case allows the order of operations presented to the
user to be changed such that they are not prompted for the email and then SMS
OTPs directly after each other.</p>
<p>For non interactive enablement, the proxy step can be skipped in this example
by passing the orginal email code to <code class="docutils literal"><span class="pre">twofactor.init_enable_sms</span></code> instead.</p>
</div>
<div class="section" id="module-twofactor">
<span id="api-calls"></span><h2>API Calls<a class="headerlink" href="#module-twofactor" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">com.greenaddress.twofactor</span></code></p>
<blockquote>
<div><dl class="method">
<dt id="activate_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">activate_email</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#activate_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Activate the email address previously set by calling <a class="reference external" href="#set_email">set_email</a>.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/gaexamples/blob/master/twofactor_set_email.py">Python Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>String</em>) &#8211; <p>OTP received via email after calling <a class="reference external" href="#set_email">set_email</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cancel_reset">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">cancel_reset</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#cancel_reset" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Cancel all outstanding two factor resets and unlock the wallet for normal operation.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">{ &#8216;reset_2fa_active&#8217;: False, &#8216;reset_2fa_days_remaining&#8217;: -1, &#8216;reset_2fa_disputed&#8217;: False }</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="confirm_reset">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">confirm_reset</code><span class="sig-paren">(</span><em>email</em>, <em>is_dispute</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#confirm_reset" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Confirm a twofactor reset request made by twofactor.request_reset.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>email</strong> (<em>String</em>) &#8211; The email address originally passed to twofactor.request_reset</li>
<li><strong>is_dispute</strong> (<em>Boolean</em>) &#8211; Pass true if the user is disputing an existing reset request</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">{ &#8216;reset_2fa_active&#8217;: Boolean, &#8216;reset_2fa_days_remaining&#8217;: Integer, &#8216;reset_2fa_disputed&#8217;: Boolean }</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_email</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable email two factor authentication.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_gauth">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_gauth</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_gauth" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable Google Authenticator</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> (<em>String</em>) &#8211; Gauth OTP</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_phone</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable automated phone call two factor authentication.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="disable_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">disable_sms</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#disable_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Disable SMS two factor authentication</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">success</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_email</code><span class="sig-paren">(</span><em>code</em><span class="optional">[</span>, <em>reset_email</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#enable_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable email two factor authentication on previously set email address.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> &#8211; If you have another 2FA enabled, would be {&#8216;code&#8217;: String (OTP), &#8216;method&#8217;: String}, else an empty String.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_email_twofac">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_email_twofac</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_email_twofac" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="enable_gauth">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_gauth</code><span class="sig-paren">(</span><em>code</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_gauth" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable Google Authenticator two factor authentication</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>code</strong> (<em>Number</em>) &#8211; OTP generated by Google Authenticator</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Boolean</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_phone</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable automated phone call two factor authentication</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>String</em>) &#8211; OTP</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="enable_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">enable_sms</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#enable_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Enable SMS two factor authentication</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>String</em>) &#8211; OTP received via SMS</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="get_config">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#get_config" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Get two factor authentication configuration.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">{&#8216;any&#8217;: Boolean, &#8216;email&#8217;: Boolean, &#8216;email_addr&#8217;: String, &#8216;email_confirmed&#8217;: Boolean, &#8216;gauth&#8217;: Boolean, &#8216;gauth_url&#8217;: String, &#8216;phone&#8217;: Boolean, &#8216;sms&#8217;: Boolean}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="init_enable_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">init_enable_email</code><span class="sig-paren">(</span><em>email</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#init_enable_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Initialize the procedure to enable an email based two factor authentication</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>email</strong> (<em>String</em>) &#8211; Email address for 2FA</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="init_enable_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">init_enable_phone</code><span class="sig-paren">(</span><em>number</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#init_enable_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Initialize the procedure to enable automated phone call based two factor authentication.</div>
<div class="line">Phone numbers must be given in E.164 format as defined in</div>
<div class="line"><a class="reference external" href="http://www.itu.int/ITU-T/recommendations/rec.aspx?rec=E.164">http://www.itu.int/ITU-T/recommendations/rec.aspx?rec=E.164</a>.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>number</strong> (<em>String</em>) &#8211; Phone number for two factor authentication</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="init_enable_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">init_enable_sms</code><span class="sig-paren">(</span><em>number</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#init_enable_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Initialize the procedure to enable SMS two factor authentication.</div>
<div class="line">Phone numbers must be given in E.164 format as defined in</div>
<div class="line"><a class="reference external" href="http://www.itu.int/ITU-T/recommendations/rec.aspx?rec=E.164">http://www.itu.int/ITU-T/recommendations/rec.aspx?rec=E.164</a>.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>number</strong> (<em>String</em>) &#8211; Phone number for two factor authentication</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_email</code><span class="sig-paren">(</span><span class="optional">[</span><em>action</em><span class="optional">]</span><span class="optional">[</span>, <em>data</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#request_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request an OTP via email, valid for the specified action.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> (<em>String</em>) &#8211; The 2FA action. See <a class="reference internal" href="#fa-action-types"><span class="std std-ref">Action types</span></a>.</li>
<li><strong>data</strong> (<em>String</em>) &#8211; Data specific to action. See <a class="reference internal" href="#fa-action-types"><span class="std std-ref">Action types</span></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_phone">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_phone</code><span class="sig-paren">(</span><span class="optional">[</span><em>action</em><span class="optional">]</span><span class="optional">[</span>, <em>data</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#request_phone" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request an OTP via automated phone call, valid for the specified action.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> (<em>String</em>) &#8211; The 2FA action. See <a class="reference internal" href="#fa-action-types"><span class="std std-ref">Action types</span></a>.</li>
<li><strong>data</strong> (<em>String</em>) &#8211; Data specific to action. See <a class="reference internal" href="#fa-action-types"><span class="std std-ref">Action types</span></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_proxy">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_proxy</code><span class="sig-paren">(</span><em>method</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#request_proxy" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request a proxy OTP from an existing OTP. See <a class="reference internal" href="#fa-proxies"><span class="std std-ref">Proxies</span></a>.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>method</strong> (<em>String</em>) &#8211; Other 2FA method on which the proxy OTP will authorize.</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_redeposit_proxy">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_redeposit_proxy</code><span class="sig-paren">(</span><em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#request_redeposit_proxy" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request a redeposit proxy OTP from an existing OTP. See <a class="reference internal" href="#fa-proxies"><span class="std std-ref">Proxies</span></a>.</div>
<div class="line">Redeposit proxies are valid for 5 minutes after being sent and can be</div>
<div class="line">used for any number of redeposits until this time is up.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_reset">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_reset</code><span class="sig-paren">(</span><em>email</em><span class="sig-paren">)</span><a class="headerlink" href="#request_reset" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request to begin the two factor authentication reset process.</div>
<div class="line">Note that this locks the user&#8217;s wallet for a fixed period of time (currently 12 months)</div>
<div class="line">plus the nlocktime of any outstanding balance in the wallet. For example, if the wallet</div>
<div class="line">has a UTXO with nlocktime 6 months from now, the reset process will lock the wallet for</div>
<div class="line">18 months.</div>
<div class="line">Once confirmed a reset request can only be cancelled by a user with access to the</div>
<div class="line">original two factor authentication (by calling twofactor.cancel_reset).</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>email</strong> (<em>String</em>) &#8211; The new email address that the user will use for two factor once the reset period expires</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">{ &#8216;reset_2fa_active&#8217;: Boolean, &#8216;reset_2fa_days_remaining&#8217;: -1, &#8216;reset_2fa_disputed&#8217;: Boolean }</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="request_sms">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">request_sms</code><span class="sig-paren">(</span><span class="optional">[</span><em>action</em><span class="optional">]</span><span class="optional">[</span>, <em>data</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#request_sms" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Request an OTP via SMS, valid for the specified action.</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>action</strong> (<em>String</em>) &#8211; The 2FA action. See <a class="reference internal" href="#fa-action-types"><span class="std std-ref">Action types</span></a>.</li>
<li><strong>data</strong> (<em>String</em>) &#8211; Data specific to action. See <a class="reference internal" href="#fa-action-types"><span class="std std-ref">Action types</span></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="set_email">
<code class="descclassname">com.greenaddress.twofactor.</code><code class="descname">set_email</code><span class="sig-paren">(</span><em>email</em>, <em>twofac_data</em><span class="sig-paren">)</span><a class="headerlink" href="#set_email" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">Set the email address associated with the wallet.</div>
<div class="line">Sends an email with a confirmation code which should be passed to <a class="reference external" href="#activate_email">activate_email</a></div>
<div class="line">to complete the operation.</div>
<div class="line">Note that this does not enable email 2FA - it is possible to set an email address for the</div>
<div class="line">wallet to receive notifications without enabling it as a 2FA method.</div>
<div class="line">To enable email 2FA see <a class="reference external" href="#init_enable_email">init_enable_email</a> and <a class="reference external" href="#enable_email">enable_email</a>.</div>
<div class="line">This method is not available if email 2FA is enabled.</div>
<div class="line">Check usage on Github: <a class="reference external" href="https://github.com/greenaddress/gaexamples/blob/master/twofactor_set_email.py">Python Example</a></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>email</strong> (<em>string</em>) &#8211; Email address</li>
<li><strong>twofac_data</strong> &#8211; See <a class="reference internal" href="#fa-passing-otps"><span class="std std-ref">Passing OTPs</span></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="txs.html" class="btn btn-neutral float-right" title="txs module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pin.html" class="btn btn-neutral" title="pin module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, GreenAddress.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>